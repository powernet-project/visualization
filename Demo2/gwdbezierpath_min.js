(function(){'use strict';var q=/[-+]?[0-9]*\.?[0-9]+%/g,r=/[-+]?[0-9]*\.?[0-9]+px/g,v=function(b,d,e,l,a){var c;if(d.gradientMode){a=[[a,a,0],[a,l-a,0],[e-a,l-a,0],[e-a,a,0]];if("radial"==d.gradientMode){(c=d.center)||(c="center");var k=b="center";var f=c.match(q);c=c.match(r);f&&1<f.length?(b=f[0],k=f[1]):c&&1<c.length&&(b=c[0],k=c[1]);b=t(b,a[0][0],a[3][0]);k=t(k,a[0][1],a[1][1]);f=d.shape;c=[.5*(a[0][0]+a[2][0]),.5*(a[0][0]+a[2][0])];var h=b<c[0]?a[2][0]:a[0][0];c=k<c[1]?a[1][1]:a[0][1];h=Math.abs(b-h);c=Math.abs(k-c);
var m=a[3][0]-a[0][0];a=a[1][1]-a[0][1];.001<Math.abs(m)&&(a/=m,h=Math.sqrt(h*h+c*c/(a*a)),c=a*h);a=h;f&&"farthest-corner"!=f&&(f=f.match(r))&&1<f.length&&(a=parseFloat(f[0]),c=parseFloat(f[1]));m=Math.max(a,c);f=document.createElement("canvas");f.width=e;f.height=l;h=f.getContext("2d");m=h.createRadialGradient(b,k,0,b,k,m);u(m,d.color);h.rect(0,0,e,l);c<a?(d=1,e=c/a):(e=1,d=a/c);h.save();h.transform(d,0,0,e,d*-b+b,e*-k+k);h.fillStyle=m;h.fill();h.restore();d=h.createPattern(f,"no-repeat")}else{e=
0;d.orientation&&(e=parseFloat(d.orientation)*Math.PI/180);isFinite(e)&&!isNaN(e)||(e=0);c=-1*e;e=[];k=[];l=[.5*(a[0][0]+a[2][0]),.5*(a[0][1]+a[2][1])];f=Math.tan(c);if(.001>Math.abs(Math.tan(.5*Math.PI-.001)-f))k=0<=Math.sin(c)?1:-1,a=.5*(a[2][1]-a[0][1]),e=[l[0],l[1]-k*a],k=[l[0],l[1]+k*a];else{c=0<=Math.cos(c)?1:-1;c=[c,c*f];for(var h=Infinity,m=-Infinity,p=0;4>p;p++){var g=[a[p][0]-l[0],a[p][1]-l[1]],g=f*g[1]+g[0],g=g/(1+f*f);var n=[g,g*f];g=(0<c[0]*n[0]+c[1]*n[1]?1:-1)*Math.sqrt(n[0]*n[0]+n[1]*
n[1]);n=[n[0]+l[0],n[1]+l[1]];g<h&&(e=n,h=g);g>m&&(k=n,m=g)}}a=b.createLinearGradient(e[0],e[1],k[0],k[1]);u(a,d.color);d=a}return d}return"rgba("+Math.floor(255*d[0])+","+Math.floor(255*d[1])+","+Math.floor(255*d[2])+","+d[3]+")"},u=function(b,d){if(b)for(var e=0;e<d.length;e++){var l=d[e].position/100,a=d[e].value;if(void 0===a.a||null===a.a)a.a=1;b.addColorStop(l,"rgba("+a.r+","+a.g+","+a.b+","+a.a+")")}},t=function(b,d,e){return b?0<=b.indexOf("%")?d+parseInt(b,10)/100*(e-d):0<=b.indexOf("px")?
d+parseInt(b,10):d+.5*(e-d):0};var w=function(){};goog.inherits(w,HTMLCanvasElement);
w.prototype.attachedCallback=function(){var b=this.getContext("2d"),d=this.width,e=this.height;var l=JSON.parse(this.getAttribute("anchors"))||[];var a=parseFloat(this.getAttribute("stroke-width"))||0;var c=JSON.parse(this.getAttribute("stroke-color"));var k=JSON.parse(this.getAttribute("fill-color"));var f=this.hasAttribute("closed");b.save();var h=l.length;b.beginPath();var m=l[0];b.moveTo(m[1][0],m[1][1]);for(var p=1;p<h;p++){var g=l[p];b.bezierCurveTo(m[2][0],m[2][1],g[0][0],g[0][1],g[1][0],g[1][1]);
m=g}h&&f&&(g=l[0],b.bezierCurveTo(m[2][0],m[2][1],g[0][0],g[0][1],g[1][0],g[1][1]));b.lineCap="round";b.lineJoin="round";null!=k&&(b.fillStyle=v(b,k,d,e,a),b.fill());null!=c&&0<a&&(b.lineWidth=a,b.strokeStyle=v(b,c,d,e,0),b.stroke());b.restore()};w.prototype.attributeChangedCallback=function(){};document.registerElement("gwd-bezierpath",{prototype:w.prototype,"extends":"canvas"});}).call(this);
